>   依赖

```xml
<!--Spring Cloud-->
<dependency>
   <groupId>org.springframework.cloud</groupId>
   <artifactId>spring-cloud-dependencies</artifactId>
   <version>Hoxton.SR1</version>
   <type>pom</type>
   <scope>import</scope>
</dependency>
<dependency>
   <groupId>com.alibaba.cloud</groupId>
   <artifactId>spring-cloud-alibaba-dependencies</artifactId>
   <version>2.1.0.RELEASE</version>
   <type>pom</type>
   <scope>import</scope>
</dependency>
```



# 一、Nacos注册中心

==Naming Configuration Service==

**注册**

在service中添加依赖

```xml
<!--服务注册-->
<dependency>
   <groupId>com.alibaba.cloud</groupId>
   <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
</dependency>
```

在配置文件中添加配置

```yml
#spring
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 #本机nacos地址
```

在应用启动类添加注解

```
@EnableDiscoveryClient
```





# 二、OpenFeign 服务调用

>   依赖

消费者中引用，但是service可能会相互调用就在最大的里面配置

```xml
<!--服务调用-->
<dependency>
   <groupId>org.springframework.cloud</groupId>
   <artifactId>spring-cloud-starter-openfeign</artifactId>
</dependency>
```

>   配置

在edu里面添加注解

```
@EnableFeignClients
```

## 1.负载均衡策略

![image-20200827205910371](https://gitee.com/likeloveC/picture_bed/raw/master/img/8.26/20200827205917.png)

```yml
service-oss: #被调用着的服务名称
  ribbon:
    NFloadBalancerRuleCalssName: com.netflix.loadbalancer.RandomRule
```



## 2.OpenFeign的超时控制

a.